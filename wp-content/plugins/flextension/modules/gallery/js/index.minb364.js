(()=>{"use strict";const{ResizeObserver:t,imagesLoaded:e}=window;function s(t,e){"string"==typeof t?(this.containerClass=t,this.container=document.querySelector(t)):(this.container=t,this.containerClass=t.className),this.options=Object.assign({items:"",columns:3},e||{}),this.container.classList.add("flext-waterfall-initialized"),this.init()}s.prototype.init=function(){this.initItems(),e(this.container,(()=>{this.positionItems()})),new t((t=>{t.forEach((()=>{this.positionItems()}))})).observe(this.container.parentElement)},s.prototype.initItems=function(){this.options.items?"string"==typeof this.options.items&&""!==this.options.items?this.items=this.container.querySelectorAll(this.options.items):Array.isArray(this.options.items)?this.items=this.options.items:this.items=[]:this.items=this.container.children;for(let t=0;t<this.items.length;t++)this.items[t].style.position="absolute"},s.prototype.update=function(t){this.options=Object.assign(this.options,t||{}),this.initItems(),e(this.container,(()=>{this.positionItems()}))},s.prototype.columnWidth=function(){return this.items[0].getBoundingClientRect().width},s.prototype.getColumns=function(){const t=this.container.getBoundingClientRect().width,e=this.columnWidth();let s=Math.floor(t/e)||1;const i=[];this.options.columns&&s>this.options.columns&&(s=this.options.columns);for(let t=0;t<s;t++)i[t]={height:0,index:t};return i},s.prototype.nextColumn=function(t,e){return t[e%t.length]},s.prototype.positionItems=function(){if(0===this.items.length)return;const t=this.getColumns(),e=this.columnWidth();let s=0;for(let i=0;i<this.items.length;i++){const n=this.nextColumn(t,i),o=this.items[i],l=n.index*e+"px",a=n.height+"px";o.style.transform="translate("+l+", "+a+")",n.height+=o.getBoundingClientRect().height,n.height>s&&(s=n.height)}this.container.style.height=s+"px"};const i=s,{flextension:n}=window;function o(t,e){return"auto"===t?"auto":Math.min(parseInt(t,10)||e,e)}n.on("ready",((t,e)=>{e||(e=document),e.querySelectorAll(".flext-block-gallery:not(.flext-gallery-initialized)").forEach((t=>{const e=t.querySelector(".flext-waterfall-gallery");null!==e&&(new i(e,{columns:parseInt(t.dataset.columns,10)||3}),n.lightboxGallery(e));const s=t.querySelector(".flext-carousel-gallery");if(null!==s){const t={},e=s.dataset.gutters;1===parseInt(s.dataset.slidesPerView,10)&&(t.parallax={enabled:!0,speed:e?"25%":"50%"});const i=s.dataset.centeredSlides&&1===parseInt(s.dataset.slidesPerView,10)?"auto":s.dataset.slidesPerView;let l=0;switch(e){case"s":l=20;break;case"m":l=40;break;case"l":l=60;break;case"xl":l=80}t.breakpoints={768:{slidesPerView:o(i,2),slidesPerGroup:o(s.dataset.slidesPerView,2),spaceBetween:Math.min(l,30)},1024:{slidesPerView:o(i,3),slidesPerGroup:o(s.dataset.slidesPerView,3),spaceBetween:Math.min(l,40)},1200:{slidesPerView:o(i,4),slidesPerGroup:o(s.dataset.slidesPerView,4),spaceBetween:Math.min(l,50)},1600:{slidesPerView:o(i,5),slidesPerGroup:o(s.dataset.slidesPerView,5),spaceBetween:l},1920:{slidesPerView:o(i,6),slidesPerGroup:o(s.dataset.slidesPerView,6),spaceBetween:l}},"auto"===i&&(s.classList.add("flext-carousel-center"),s.dataset.loop&&(t.loopedSlides=parseInt(s.dataset.slidesPerView,10))),new n.carousel(s,t),n.lightboxGallery(s)}t.classList.add("flext-gallery-initialized")}))}))})();
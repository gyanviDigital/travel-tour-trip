(()=>{"use strict";const{flextension:t,PhotoSwipe:e}=window;function n(t){let e="";const n=t.closest("figure");if(null!==n){const t=n.querySelector("figcaption");null!==t&&(e=t.innerHTML)}return e||(e=t.getAttribute("title")),e||(e=t.getAttribute("alt")),e}t.lightboxGallery=function(i,l){const s=[];l=Object.assign({mainClass:"flext-lightbox-gallery",history:!1,closeOnScroll:!1,getThumbBoundsFn:t=>{const e=window.scrollY||document.documentElement.scrollTop,n=s[t].thumbnail.getBoundingClientRect();return{x:n.left,y:n.top+e,w:n.width}}},l||{});const o=["jpg","jpeg","png","webp","gif","bmp","mp4","mov","ogv","ogg","webm"];i.querySelectorAll("a:not(.flext-lightbox-link) img").forEach(((i,r)=>{if(null===i)return;const a=i.closest("a");if(null===a)return;if(a.classList.contains("flext-lightbox-link"))return;a.classList.add("flext-lightbox-link");const d=a.href?a.href.toString().toLowerCase():"";if(d&&o.indexOf(d.split(".").pop())>-1){a.classList.add("flext-lightbox-zoom");let o=!0,d={width:parseInt(a.dataset.width,10),height:parseInt(a.dataset.height,10)};d.width&&d.height||(o=!1,d=function(t){let e=parseInt(t.getAttribute("width"),10),n=parseInt(t.getAttribute("height"),10);if(!e||!n){const i=t.getBoundingClientRect();e=i.width,n=i.height}const i=Math.min(window.innerWidth/e,window.innerHeight/n);return{width:e*i,height:n*i}}(i)),s.push({thumbnail:i,src:a.getAttribute("href"),w:d.width,h:d.height,msrc:i.src,title:n(i),ready:o}),a.addEventListener("click",(n=>(n.preventDefault(),function(n,i,l){const{PhotoSwipeUI_Default:s}=window;l.index=n;const o=function(){let t=document.getElementById("flext-lightbox-gallery");if(null===t){const e='<div id="flext-lightbox-gallery" class="pswp" tabindex="-1" role="dialog" aria-hidden="true">\n\t\t\t\t<div class="pswp__bg"></div>\n\n\t\t\t\t<div class="pswp__scroll-wrap">\n\n\t\t\t\t\t<div class="pswp__container">\n\t\t\t\t\t\t<div class="pswp__item"></div>\n\t\t\t\t\t\t<div class="pswp__item"></div>\n\t\t\t\t\t\t<div class="pswp__item"></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="pswp__ui pswp__ui--hidden">\n\n\t\t\t\t\t\t<div class="pswp__top-bar">\n\n\t\t\t\t\t\t\t<div class="pswp__counter"></div>\n\n\t\t\t\t\t\t\t<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>\n\n\t\t\t\t\t\t\t<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>\n\n\t\t\t\t\t\t\t<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>\n\n\t\t\t\t\t\t\t\x3c!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR --\x3e\n\t\t\t\t\t\t\t\x3c!-- element will get class pswp__preloader--active when preloader is running --\x3e\n\t\t\t\t\t\t\t<div class="pswp__preloader">\n\t\t\t\t\t\t\t\t<div class="pswp__preloader__icn">\n\t\t\t\t\t\t\t\t<div class="pswp__preloader__cut">\n\t\t\t\t\t\t\t\t\t<div class="pswp__preloader__donut"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<div class="pswp__caption">\n\t\t\t\t\t\t\t<div class="pswp__caption__center"></div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\n\t\t\t</div>',n=document.createElement("div");n.innerHTML=e,t=n.firstChild,document.body.append(t)}return t}(),r=new e(o,s,i,l);r.listen("gettingData",((t,e)=>{if(!0!==e.ready){const t=new window.Image;t.addEventListener("load",(()=>{e.w=t.naturalWidth,e.h=t.naturalHeight,r.updateSize(!0),e.ready=!0})),t.src=e.src}})),r.listen("afterInit",(()=>{t.emit("lightboxGallery.open",r)})),r.listen("close",(()=>{t.emit("lightboxGallery.close",r)})),r.init()}(r,s,l),!1)))}else new URL(d).origin!==location.origin&&a.classList.add("flext-lightbox-external")}))},t.on("ready",((e,n)=>{n||(n=document.body),n.querySelectorAll("p.attachment, .gallery, .wp-caption, .wp-block-image, .wp-block-media-text, .wp-block-gallery").forEach((e=>{t.lightboxGallery(e)}))}))})();
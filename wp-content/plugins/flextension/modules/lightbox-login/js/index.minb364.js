(()=>{"use strict";const{flextension:e}=window;function o(o,t){o||(o="login"),t||(t=window.location.href),new e.lightbox("#flext-"+o+"-form",{className:"flext-lightbox-login-modal",fullscreen:!1,onOpen:o=>{o&&o.element&&setTimeout((()=>{o.element.classList.add("is-lightbox-login-content-loaded");const e=o.element.querySelector('input[name="log"');null!==e&&e.focus()}),800),e.emit("afterLoginFormOpen",o)},onClose:o=>{e.emit("afterLoginFormClose",o)}}).load({endpoint:"/flextension/v1/lightbox-login",data:{form:o,redirect_to:t},callback:(o,t)=>{t.content.innerHTML=o.rendered;const n=t.content.querySelector("#user_login");null!==n&&n.focus(),e.emit("afterLoginFormLoaded",t.content),e.emit("ready",t.content)}}),e.emit("afterLoginFormShow")}e.showLoginForm=o,e.on("ready",((e,t)=>{t||(t=document),t.querySelectorAll(".flext-lightbox-login-button:not(.flext-lightbox-login-initialized)").forEach((e=>{null!==e&&(e.classList.add("flext-lightbox-login-initialized"),e.addEventListener("click",(t=>(t.preventDefault(),o(e.dataset.form),!1))))}))}))})();